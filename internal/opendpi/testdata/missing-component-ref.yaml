# Test case: Reference to non-existent component
# Should produce a clear error

opendpi: "1.0.0"

info:
  title: Missing Component Ref
  version: "1.0.0"

connections:
  database:
    protocol: postgresql
    host: localhost:5432

ports:
  broken:
    description: References non-existent component
    connections:
      - connection:
          $ref: "#/connections/database"
        location: broken
    schema:
      $ref: "#/components/schemas/DoesNotExist"

components:
  schemas:
    SomeSchema:
      type: object
