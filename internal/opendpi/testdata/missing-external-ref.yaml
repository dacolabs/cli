# Test case: External ref to non-existent file
# Should produce a clear error

opendpi: "1.0.0"

info:
  title: Missing External Ref
  version: "1.0.0"

connections:
  database:
    protocol: postgresql
    host: localhost:5432

ports:
  broken:
    description: References non-existent file
    connections:
      - connection:
          $ref: "#/connections/database"
        location: broken
    schema:
      $ref: "schemas/does-not-exist.yaml"
